ğŸ¥çš„åšå®¢æºç ï¼Œç›®å‰å·²ç»å¼€æºå•¦ï¼ï¼ï¼æš‚å®šåä¸º**hexo-theme-Fomalhaut**ï¼ŒåŸä½œè€…ç½‘ç«™ï¼šwww.fomal.cc


![](./cover.jpg)

æœ¬æºç æ˜¯åŸºäºHexo-Butterflyçš„äºŒæ¬¡å¼€å‘ï¼Œæš‚æ—¶æ²¡æ—¶é—´åšå®Œå…¨çš„ä¸»é¢˜åˆ†ç¦»ï¼Œå› æ­¤å®‰è£…å°±æ˜¯æ•´ä¸ªåšå®¢çš„å®‰è£…ï¼Œå»ºè®®å¦èµ·ä¸€ä¸ªæ–‡ä»¶å¤¹è¿›è¡Œå®‰è£…ï¼Œæˆ–è€…å¤‡ä»½å¥½åŸæ¥çš„ä¿¡æ¯ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸ç›´æ¥æ¬èµ°ï¼Œè€Œæ˜¯å€Ÿé‰´é‡Œé¢çš„éƒ¨åˆ†ä»£ç å†™æ³•ã€‚

**å®‰è£…æ–¹æ³•**ğŸ¡ğŸ¡ğŸ¡ï¼š

1. å®‰è£… NodeJsã€Hexoã€Gitã€æ³¨å†Œå¹¶è¿æ¥Githubï¼Œæ­¤éƒ¨åˆ†å¯å‚è€ƒ[Hexoåšå®¢æ­å»ºåŸºç¡€æ•™ç¨‹(ä¸€)](https://www.fomal.cc/posts/e593433d.html)ã€‚
  PSï¼šç›¸å½“äºé“¾æ¥æ•™ç¨‹çš„ç¬¬1-7æ­¥ï¼Œç¬¬8æ­¥å°±ä¸è¦åšäº†ï¼Œä¸ç„¶ä¼šæ¸…ç©ºæºç çš„ï¼ï¼ï¼ï¼ˆä¸æ˜¯æ–°æ‰‹è¯·è·³è¿‡è¿™æ¡ï¼‰

2. æŠŠæºç æ‰“åŒ…ä¸‹è½½åˆ°è‡ªå·±çš„ç”µè„‘ï¼Œç„¶åè§£å‹ç¼©åˆ°ä¸€ä¸ªä½ å–œæ¬¢çš„æ–‡ä»¶å¤¹ä¸­

3. åœ¨git bashå‘½ä»¤ä¸­åˆ‡æ¢åˆ°ä¸‹è½½çš„åšå®¢æ ¹ç›®å½•ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ¨¡å—å®‰è£…ã€‚è¿™é‡Œç»ä¸èƒ½ä½¿ç”¨`hexo init`åˆå§‹åŒ–ï¼Œè‹¥ä¸æ…ç”¨äº†ï¼Œåˆ™ç«™ç‚¹çš„é…ç½®æ–‡ä»¶`_config.yml`å†…å®¹ä¼šè¢«é‡ç½®

  ```bash
  npm i
  ```

4. æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¸…ç©ºå¹¶å¯åŠ¨é¡¹ç›®ï¼Œå¯åŠ¨æˆåŠŸåå†æµè§ˆå™¨åœ°å€æ è¾“å…¥`localhost:4000`è¿›è¡ŒéªŒè¯

  ```bash
  hexo cl; hexo g; hexo s
  ```

5. åˆ°è¿™é‡Œä¸€èˆ¬æ˜¯æ²¡å•¥é—®é¢˜çš„äº†ï¼Œå½“æœ¬åœ°èƒ½æˆåŠŸå¯åŠ¨åï¼Œæ”¹ä¸€ä¸‹ç«™ç‚¹é…ç½®æ–‡ä»¶çš„`_config.yml`çš„`deploy`é…ç½®é¡¹ï¼Œç„¶åç”¨ä»¥ä¸‹å‘½ä»¤éƒ¨ç½²åˆ°Githubï¼ˆè¿™ä¸€æ­¥å‡ºé—®é¢˜çš„ï¼Œè¯·åˆ é™¤ç«™ç‚¹é…ç½®æ–‡ä»¶çš„`deploy`é…ç½®é¡¹ä¸`baidu_url_submitter`çš„ä¿¡æ¯ï¼‰

  ```bash
  hexo d
  ```

ç®€å•è¯´æ˜ğŸŒˆğŸŒˆğŸŒˆï¼š

- jsçš„ä¸»ä½“åœ¨`source/js/fomal.js`é‡Œé¢ï¼Œåšäº†åŸºæœ¬åˆ†å—é€»è¾‘çš„æ ‡æ³¨ï¼ŒåæœŸæ•´åˆçš„ï¼Œä»¥... startå’Œ... end åŒ…è£¹

- cssä¸»ä½“åœ¨`themes\butterfly\source\css\_custom\custom.css`é‡Œï¼Œä¸Butterflyçš„è‡ªå¸¦æ ·å¼è”åˆç¼–è¯‘ä¸ºä¸€ä¸ªindex.cssï¼Œæœ‰åŸºæœ¬çš„æ³¨é‡Š

- å› ä¸ºå…¼é¡¾äº†å¤œé—´æ¨¡å¼ç‰¹å®šå£çº¸å’Œè‡ªå®šä¹‰å£çº¸ï¼ŒèƒŒæ™¯çš„åˆ‡æ¢åšåœ¨äº†`fomal.js`çš„ç¬¬3190è¡Œé™„è¿‘ï¼Œç¾åŒ–æ¨¡å—ä»£ç é€»è¾‘åœ¨`fomal.js`çš„ç¬¬2894-3596è¡Œï¼Œå››ä¸ªèƒŒæ™¯åˆ†åˆ«ä¸ºPCç«¯ç™½å¤©ã€PCç«¯é»‘å¤œã€æ‰‹æœºç«¯ç™½å¤©ã€æ‰‹æœºç«¯é»‘å¤œï¼Œç¾åŒ–æ¨¡å—DOMèµ·ç‚¹ä¸ºç¬¬3356è¡Œ

  ```js
  /* ç¾åŒ–æ¨¡å— start */
  ...
  ...
  // èƒŒæ™¯å›¾(çº¦3190è¡Œ)
  document.getElementById("defineBg").innerText = `:root{
    --default-bg: url(https://lskypro.acozycotage.net/Fomalhaut/img/dm14.webp);
    --darkmode-bg:url(https://lskypro.acozycotage.net/Fomalhaut/img/yuanshen1.webp);
    --mobileday-bg: url(https://lskypro.acozycotage.net/Fomalhaut/img/snow.webp);
    --mobilenight-bg: url(https://lskypro.acozycotage.net/Fomalhaut/img/mb8.webp);
  }`;
  ...
  ...
  // ç¾åŒ–æ¨¡å—ä¸»ä½“DOM(çº¦3356è¡Œ)
    winbox.body.innerHTML = `...`
  ...
  ...
  /* ç¾åŒ–æ¨¡å— end */
  
  ```

- é¡µè„šéƒ¨åˆ†è¯·è§`themes\butterfly\layout\includes\footer.pug`ï¼ŒåŒ…æ‹¬é¡µè„šè®¡æ—¶å™¨ã€å¾½æ ‡ã€æ–‡å­—ã€å¸ƒå±€ç­‰

- å°é¢å›¾åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml`çš„`default_cover`é…ç½®é¡¹ï¼Œå»ºè®®é…ç½®å¤šé¡¹åéšæœºåˆ·å‡ºå°é¢å›¾

  ```java
  cover:
    # display the cover or not (æ˜¯å¦é¡¯ç¤ºæ–‡ç« å°é¢)
    index_enable: true
    aside_enable: true
    archives_enable: true
    # the position of cover in home page (å°é¢é¡¯ç¤ºçš„ä½ç½®)
    # left/right/both
    position: both
    # When cover is not set, the default cover is displayed (ç•¶æ²’æœ‰è¨­ç½®coveræ™‚ï¼Œé»˜èªçš„å°é¢é¡¯ç¤º)
    default_cover:
      - https://source.fomal.cc/img/default_cover_14.webp
      - https://source.fomal.cc/img/default_cover_15.webp
      # ......
  ```

  

- ç½‘ç«™å›¾æ ‡ä¸ºæ ¹ç›®å½•çš„`favicon.ico`ï¼Œæ›¿æ¢ä¸ºä½ è‡ªå·±çš„å›¾æ ‡å³å¯

- æ¬¢è¿ä¿¡æ¯åœ°ç†ä½ç½®æ˜¾ç¤ºï¼Œè¿™ä¸ªéœ€è¦é…ç½®è‡ªå·±çš„KEYï¼Œç±»ä¼¼çš„è¿˜æœ‰bibiçš„é…ç½®ã€æœ‹å‹åœˆç­‰é…ç½®å‡éœ€è¦å‚è€ƒç›¸å…³æ–‡æ¡£æ”¹æˆè‡ªå·±çš„APIï¼Œæœ›å‘¨çŸ¥

- å…¶ä½™é…ç½®é¡¹åŸºæœ¬ä¸Butterflyå…¼å®¹ï¼Œå‚è€ƒ[Butterflyå®˜æ–¹æ–‡æ¡£](https://butterfly.js.org/)å³å¯

- é‡åˆ°é—®é¢˜è¯·å¤šçœ‹ç›¸å…³æ–‡æ¡£(Hexoä¸»é¢˜æ–‡æ¡£ã€Butterflyä¸»é¢˜æ–‡æ¡£ã€åº—é•¿çš„æ•™ç¨‹)å’Œæœ¬ç«™æ•™ç¨‹ï¼Œè‹¥æœ‰å…¶ä»–ç–‘é—®è¯·åŠ Qç¾¤ï¼š691942826 éªŒè¯ï¼šGithubå¼€æºé¡¹ç›®

